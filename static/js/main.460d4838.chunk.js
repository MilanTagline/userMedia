(this.webpackJsonpvalidationform=this.webpackJsonpvalidationform||[]).push([[0],{33:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(13),c=n.n(i),a=n(2),o=n(19),u=n(9),s=n.n(u),d=n(15);var b,h,f,p,l,j,x,O,g,v=n(4),m=n(5),w=Object(m.c)(b||(b=Object(v.a)(["\n  from {\n    opacity: 0.75;\n  }\n\n  to {\n    opacity: 0;\n  }\n"]))),y=m.b.div(h||(h=Object(v.a)(["\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  width: 100%;\n"]))),k=m.b.div(f||(f=Object(v.a)(["\n  position: relative;\n  width: 100%;\n  max-width: ",";\n  max-height: ",";\n  overflow: hidden;\n"])),(function(t){var e=t.maxWidth;return e&&"".concat(e,"px")}),(function(t){var e=t.maxHeight;return e&&"".concat(e,"px")})),C=m.b.canvas(p||(p=Object(v.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]))),S=m.b.video(l||(l=Object(v.a)(["\n  position: absolute;\n\n  &::-webkit-media-controls-play-button {\n    display: none !important;\n    -webkit-appearance: none;\n  }\n"]))),M=m.b.div(j||(j=Object(v.a)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  bottom: 20px;\n  left: 20px;\n  box-shadow: 0px 0px 20px 56px rgba(0, 0, 0, 0.6);\n  border: 1px solid #ffffff;\n  border-radius: 10px;\n"]))),E=m.b.div(x||(x=Object(v.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #ffffff;\n  opacity: 0;\n\n  ","\n"])),(function(t){if(t.flash)return Object(m.a)(O||(O=Object(v.a)(["\n        animation: "," 750ms ease-out;\n      "])),w)})),H=m.b.button(g||(g=Object(v.a)(["\n  width: 75%;\n  min-width: 100px;\n  max-width: 250px;\n  margin-top: 24px;\n  padding: 12px 24px;\n  background: silver;\n"]))),R=n(0),W={audio:!1,video:{facingMode:"environment"}};function I(t){var e=t.onCapture,n=t.onClear,i=Object(r.useRef)(),c=Object(r.useRef)(),u=Object(r.useState)({width:0,height:0}),b=Object(a.a)(u,2),h=b[0],f=b[1],p=Object(r.useState)(!1),l=Object(a.a)(p,2),j=l[0],x=l[1],O=Object(r.useState)(!0),g=Object(a.a)(O,2),v=g[0],m=g[1],w=Object(r.useState)(!1),I=Object(a.a)(w,2),T=I[0],B=I[1],D=function(t){var e=Object(r.useState)(null),n=Object(a.a)(e,2),i=n[0],c=n[1];return Object(r.useEffect)((function(){function t(){return(t=Object(d.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,navigator.mediaDevices){t.next=5;break}return alert("no media"),console.log("Sorry, getUserMedia is not supported"),t.abrupt("return");case 5:return t.next=7,navigator.mediaDevices.getUserMedia({video:!0});case 7:e=t.sent,console.log("srtream :>> ",e),c(e),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}if(i)return function(){i.getTracks().forEach((function(t){t.stop()}))};!function(){t.apply(this,arguments)}()}),[i,t]),i}(W),J=function(t){var e=Object(r.useState)(t),n=Object(a.a)(e,2),i=n[0],c=n[1];return[i,Object(r.useCallback)((function(t,e){t&&e&&c(t<=e?e/t:t/e)}),[])]}(1.586),P=Object(a.a)(J,2),U=P[0],z=P[1],A=function(t,e,n,i){var c=Object(r.useState)({x:0,y:0}),o=Object(a.a)(c,2),u=o[0],s=o[1];return Object(r.useEffect)((function(){if(t&&e&&n&&i){var r=t>n?Math.round((t-n)/2):0,c=e>i?Math.round((e-i)/2):0;s({x:r,y:c})}}),[t,e,n,i]),u}(c.current&&c.current.videoWidth,c.current&&c.current.videoHeight,h.width,h.height);function F(){z(c.current.videoHeight,c.current.videoWidth),x(!0),c.current.play()}function q(){i.current.getContext("2d").drawImage(c.current,A.x,A.y,h.width,h.height,0,0,h.width,h.height),i.current.toBlob((function(t){return e(t)}),"image/jpeg",1),m(!1),B(!0)}function G(){i.current.getContext("2d").clearRect(0,0,i.current.width,i.current.height),m(!0),n()}return D&&c.current&&!c.current.srcObject&&(c.current.srcObject=D),D?Object(R.jsx)(o.a,{bounds:!0,onResize:function(t){f({width:t.bounds.width,height:Math.round(t.bounds.width/U)})},children:function(t){var e=t.measureRef;return Object(R.jsxs)(y,{children:[Object(R.jsxs)(k,{ref:e,maxHeight:c.current&&c.current.videoHeight,maxWidth:c.current&&c.current.videoWidth,style:{height:"".concat(h.height,"px")},children:[Object(R.jsx)(S,{ref:c,hidden:!j,onCanPlay:F,autoPlay:!0,playsInline:!0,muted:!0,style:{top:"-".concat(A.y,"px"),left:"-".concat(A.x,"px")}}),Object(R.jsx)(M,{hidden:!j}),Object(R.jsx)(C,{ref:i,width:h.width,height:h.height}),Object(R.jsx)(E,{flash:T,onAnimationEnd:function(){return B(!1)}})]}),j&&Object(R.jsx)(H,{onClick:v?q:G,children:v?"Take a picture":"Take another picture"})]})}}):null}n(6),n(7),n(33);var T=function(){var t=Object(r.useState)(),e=Object(a.a)(t,2),n=e[0],i=e[1];return console.log("cardImage :>> ",n),Object(R.jsx)(r.Fragment,{children:Object(R.jsx)(I,{onCapture:function(t){return i(t)},onClear:function(){return i(void 0)}})})};c.a.render(Object(R.jsx)(T,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.460d4838.chunk.js.map